"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var crypto=_interopDefault(require("crypto")),got=_interopDefault(require("got")),mime=_interopDefault(require("mime-types"));const hash=e=>{return crypto.createHash("sha256").update(e,"utf8").digest("base64")},getExternal=async({prefix:e,oldFiles:t,files:n,urls:r})=>{const a=n.length;let i=r.map(async(n,r)=>{const i=async()=>{let{body:t,headers:a}=await got(n,{encoding:null});return{content:t,fname:`${e} image ${String(r+1).padStart(2,"0")}.${mime.extension(a["content-type"])||"jpg"}`}};let o=t&&t[r+a];if(o&&o.fname&&o.integrity&&o.integrity===n)return{fname:o.fname,integrity:n,buffer:async()=>(await i()).content};let{fname:s,content:f}=await i();return{fname:s,integrity:n,buffer:f}}),o=await Promise.all(i);for(const e of o)n.push(e)};exports.hash=hash,exports.getExternal=getExternal;
//# sourceMappingURL=chunk-568fa434.js.map
